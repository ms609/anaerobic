<!DOCTYPE html>
<html lang="en" encoding="UTF-8">
   <head>
      <script src = "https://d3js.org/d3.v4.min.js"></script>
      <link rel="stylesheet" href="style.css"/>

   </head>

   <body>
      <div id="content">
        <div id="inputs">
          <div class="input">
            <input class="distance" value="5000" onchange="update()"/>m in
            <input class="time" value="1111" onchange="update()"/>s
          </div>
          <div class="input">
            <input class="distance" value="1609 onchange="update()""/>m in
            <input class="time" value = "298.5" onchange="update()"/>s
          </div>
          <div class="input">
            <input class="distance" value="10000" onchange="update()"/>m in
            <input class="time" value = "2300" onchange="update()"/>s
          </div>
          <div class="input">
            <input class="distance" value="" onchange="update()"/>m in
            <input class="time" value = "" onchange="update()"/>s
          </div>
          <div class="input">
            <input class="distance" value="" onchange="update()"/>m in
            <input class="time" value = "" onchange="update()"/>s
          </div>
          <div class="input">
            <input class="distance" value="" onchange="update()"/>m in
            <input class="time" value = "" onchange="update()"/>s
          </div>
        </div>
        <div id="output">
          <p id="d-prime">D' = <span id="out-dprime">???</span></p>
          <p id="d-prime">Critical speed = <span id="out-v">???</span></p>
          <svg id="graph" width="400" height="300">
            <g id="plotFrame">
              <path id="fitLine"></path>
              <g id="points"></g>
              <g id="xAxis"></g>
              <g id="yAxis"></g>
            </g>
          </svg>
          <table>
            <thead>
              <tr>
              <th colspan=2></th>
              <th colspan=3>× 3 @ 80% D' </th>
              <th colspan=3>× 4–5 @ 60% D' </th>
              <th colspan=3>× 12? @ 40% D'</th>
              </tr>
              <tr>
                <th>Interval</th>
                <th>Pace @ 100%</th>
                <th>pace</th>
                <th>time</th>
                <th>float</th>
                <th>pace</th>
                <th>time</th>
                <th>float</th>
                <th>pace</th>
                <th>time</th>
                <th>float</th>
              </tr>
            </thead>
            <tbody id="intervals"></tbody>
            <tfoot>
              <td colspan=6>
              Choose intervals between 90–300 s (1:30–5:00)
              </td>
            </tfoot>
          </table>
          <table>
            <thead>
              <th>Race distance</th>
              <th>Target pace</th>
              <th>Target time</th>
            </thead>
            <tbody id="races">
            </tbody>
          </table>
          <table>
            <thead>
              <th>% critical pace</th>
              <th>Pace</th>
              <th>Marathon Time</th>
            </thead>
            <tbody id="marathon">
            </tbody>
          </table>
        </div>
      </div>
      <div id="references">
        Pettitt, R. W. (2016), "Applying the Critical Speed Concept to Racing Strategy and Interval Training Prescription".
        <i>Int J Sports Physiol Perform</i>
        doi:<a href="https://dx.doi.org/10.1123/ijspp.2016-0001" target="_blank">10.1123/ijspp.2016-0001</a>
      </div>
      <script src="functions.js"></script>
      <script src="update.js"></script>
      <script>
        "use strict";
        var svg = d3.select("#graph")
        var plot = d3.select("#plotFrame")
        var races = d3.select("#races");


        update();
      </script>
   </body>
</html>
